<?xml version="1.0" ?>

<robot name="yaskawa_mh5lf" xmlns:xacro="http://ros.org/wiki/xacro">

    <xacro:include filename="$(find yaskawa_mh5_description)/urdf/mh5_gazebo.urdf.xacro"/>
    <xacro:include filename="$(find yaskawa_mh5_description)/urdf/mh5_ros2_controller.urdf.xacro"/>

<!-- macro function for inertial-->
	<xacro:macro name="default_inertial" params="mass">
		<inertial>
			<mass value="${mass}"/>
			<inertia ixx="1.0" ixy="0.0" ixz="0.0"
					iyy="1.0" iyz="0.0"
					izz="1.0" />
		</inertial>
	</xacro:macro>
<!-- end of macro function for inertial -->

<!-- transmission for robot controller -->
    <xacro:macro name="default_transmission" params="number">
        <transmission name="transmission_${number}"> 
            <plugin>transmission_interface/SimpleTransmission</plugin>
            <actuator name="motor_${number}" role="actuator1">
                <joint name="joint_${number}" role="joint1">
                    <mechanical_reduction>1.0</mechanical_reduction>
                </joint>
            </actuator>
        </transmission>
    </xacro:macro>
<!-- end transmission for robot controller -->

    <xacro:macro name="yaskawa_mh5_description" params="prefix">
		<xacro:include filename="$(find yaskawa_mh5_description)/motoman_resources/models/common_materials.xacro"/>

    </xacro:macro>

    <link name= "world"/>

    <!-- base link -->
    <link name="base_link">
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="1.0" ixy="0.0" ixz="0.0"
                    iyy="1.0" iyz="0.0"
                    izz="1.0" />
        </inertial>
        <visual>
            <origin rpy="0 0 3.14159"/>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/visual/MH5_BASE_AXIS.stl" />
            </geometry>
            <material name="yaskawa_blue"/>
        </visual>
        <collision>
            <origin rpy="0 0 3.14159"/>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/collision/MH5_BASE_AXIS.stl" />
            </geometry>
            <material name="yaskawa_yellow"/>
        </collision>
    </link>

    <!-- link s -->
    <link name="link_s">
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="1.0" ixy="0.0" ixz="0.0"
                    iyy="1.0" iyz="0.0"
                    izz="1.0" />
        </inertial>
        <visual>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/visual/MH5_S_AXIS.stl"/>
            </geometry>
            <material name="yaskawa_white"/>
        </visual>l 'yaskawa_blue' undef
        <collision>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/collision/MH5_S_AXIS.stl" />
            </geometry>
            <material name="yaskawa_yellow"/>
        </collision>
    </link>

    <!-- link l-->
    <link name="link_l">
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="1.0" ixy="0.0" ixz="0.0"
                    iyy="1.0" iyz="0.0"
                    izz="1.0" />
        </inertial>
        <visual>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/visual/MH5_L_AXIS.stl"/>
            </geometry>
            <material name="color_yaskawa_blue"/>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/collision/MH5_L_AXIS.stl" />
            </geometry>
            <material name="yaskawa_yellow"/>
        </collision>
    </link>

    <!-- link u  -->
    <link name="link_u">
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="1.0" ixy="0.0" ixz="0.0"
                    iyy="1.0" iyz="0.0"
                    izz="1.0" />
        </inertial>
        <visual>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/visual/MH5_U_AXIS.stl"/>
            </geometry>
            <material name="material_yaskawa_blue"/>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/collision/MH5_U_AXIS.stl" />
            </geometry>
            <material name="material_yaskawa_yellow"/>
        </collision>
    </link>

    <!-- link r  -->
    <link name="link_r">
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="1.0" ixy="0.0" ixz="0.0"
                    iyy="1.0" iyz="0.0"
                    izz="1.0" />
        </inertial>
        <visual>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/visual/MH5_R_AXIS.stl"/>
            </geometry>
            <material name="yaskawa_white"/>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/collision/MH5_R_AXIS.stl" />
            </geometry>
            <material name="yaskawa_yellow"/>
        </collision>
    </link>

    <!-- link b  -->
    <link name="link_b">
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="1.0" ixy="0.0" ixz="0.0"
                    iyy="1.0" iyz="0.0"
                    izz="1.0" />
        </inertial>
        <visual>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/visual/MH5_B_AXIS.stl"/>
            </geometry>
            <material name="yaskawa_blue"/>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/collision/MH5_B_AXIS.stl" />
            </geometry>
            <material name="yaskawa_yellow"/>
        </collision>
    </link>

    <!-- link t  -->
    <link name="link_t">
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="1.0" ixy="0.0" ixz="0.0"
                    iyy="1.0" iyz="0.0"
                    izz="1.0" />
        </inertial>
        <visual>
            <geometry>    
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/visual/MH5_T_AXIS.stl" />
            </geometry>
            <material name="color_yaskawa_white"/>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://yaskawa_mh5_description/meshes/mh5/collision/MH5_T_AXIS.stl" />
            </geometry>
            <material name="color_yaskawa_yellow"/>
        </collision>
    </link>
    <!-- link definitions end -->

    <joint name="virtual_joint" type="fixed">
        <parent link="world"/>
        <child link="base_link"/>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </joint>

    <!-- joints -->
    <joint name="joint_s" type="revolute">
        <parent link="base_link"/>
        <child link="link_s"/>
        <origin xyz="0 0 0.1990" rpy="0 0 0"/>
        <axis xyz="0 0 1" />
        <limit lower="-2.9671" upper="2.9671" effort="100" velocity="2.96" />
    </joint>

    <joint name="joint_l" type="revolute">
        <parent link="link_s"/>
        <child link="link_l"/>
        <origin xyz="0.0880 0 0.1310" rpy="0 0 0"/>
        <axis xyz="0 1 0" />
        <limit lower="-1.1345" upper="2.6180" effort="100" velocity="2.96" />
    </joint>

    <joint name="joint_u" type="revolute">
        <parent link="link_l"/>
        <child link="link_u"/>
        <origin rpy="0 -3 0" xyz="0 0 0.3100"/>
        <axis xyz="0 -1 0" />
        <limit lower="-1.0122" upper="3.2218" effort="100" velocity="2.96" />
    </joint>

    <joint name="joint_r" type="revolute">
        <parent link="link_u"/>
        <child link="link_r"/>
        <origin rpy="0 0 3.1416" xyz="0 0 0"/>
        <axis xyz="-1 0 0" />
        <limit lower="-3.3161" upper="3.3161" effort="100" velocity="3.48" />
    </joint>

    <joint name="joint_b" type="revolute">
        <parent link="link_r"/>
        <child link="link_b"/>
        <origin xyz="0.2335 0 0" rpy="0 0 0"/>
        <axis xyz="0 -1 0" />
        <limit lower="-2.1817" upper="2.1817" effort="100" velocity="3.48" />
    </joint>

    <joint name="joint_t" type="revolute">
        <parent link="link_b"/>
        <child link="link_t"/>
        <origin xyz="0.0865 0 0" rpy="0 0 0"/>
        <axis xyz="-1 0 0" />
        <limit lower="-6.2831" upper="6.2831" effort="100" velocity="6.97" />
    </joint>

    <!-- Define transmissions -->
    <xacro:default_transmission number="s"/>
    <xacro:default_transmission number="l"/>
    <xacro:default_transmission number="u"/>
    <xacro:default_transmission number="r"/>
    <xacro:default_transmission number="b"/>
    <xacro:default_transmission number="t"/>    
</robot>
